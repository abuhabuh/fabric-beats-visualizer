<!DOCTYPE html>
<meta charset="utf-8">

<html>

<body>
  <svg width="560" height="500" style="border: 1px solid black;">
  </svg>
  <div id="wang">
    hit me
  </div>
</body>

<script src="https://d3js.org/d3.v4.min.js"></script>



<script>

var svg = d3.select('svg');
var canvaseWidth = +svg.attr('width');
var canvasHeight = +svg.attr('height');


var rectList = [{x: 0, y: 0}, {x: 0, y: 100}];

var x = svg.selectAll('rect')
  .data(rectList);
  .enter().append('rect')
    .attr('x', function(d) {return d.x;})
    .attr('y', function(d) {return d.y;})
    .attr('width', 50)
    .attr('height', 50)
  .call(d3.drag().on('drag', dragged));

function dragged(d) {
  d.x = d3.event.x;
  d3.select(this).attr("x", d.x);
}


d3.select('#wang').on("click", wangIt);
function wangIt() {
  var el = d3.select('svg').select('rect');
  debugger;
  console.log(el.x);
  console.log(el.y);
};

</script>

</html>
